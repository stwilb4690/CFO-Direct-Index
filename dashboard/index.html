<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFO Direct Index - Forward Test Dashboard</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Plotly for Charts -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>CFO Direct Index</h1>
                <p class="subtitle">$10MM Forward Test ‚Ä¢ S&P 500 Tax-Managed Portfolio</p>
            </div>
            <div class="header-right">
                <p class="last-updated">Last Updated: <span id="lastUpdated">Loading...</span></p>
                <div class="live-badge">Paper Trading Active</div>
            </div>
        </header>

        <!-- Metric Cards -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="label">Portfolio Value</div>
                <div class="value mono" id="totalValue">$0.00</div>
                <div class="change up" id="dailyChange">+$0.00 (0.00%)</div>
            </div>
            <div class="metric-card">
                <div class="label">YTD Return</div>
                <div class="value positive mono" id="ytdReturn">0.00%</div>
                <div class="change" id="ytdVsBenchmark">vs S&P: --</div>
            </div>
            <div class="metric-card">
                <div class="label">Tax Losses Harvested</div>
                <div class="value positive mono" id="harvestedLosses">$0.00</div>
                <div class="change" id="taxSavings">Est. Savings: --</div>
            </div>
            <div class="metric-card">
                <div class="label">Cash Balance</div>
                <div class="value mono" id="cashBalance">$0.00</div>
                <div class="change" id="cashPct">0.00% of portfolio</div>
            </div>
            <div class="metric-card">
                <div class="label">Positions</div>
                <div class="value mono" id="numPositions">0</div>
                <div class="change" id="numLots">0 tax lots</div>
            </div>
            <div class="metric-card">
                <div class="label">Inception Date</div>
                <div class="value mono" id="inceptionDate">--</div>
                <div class="change" id="daysActive">0 days active</div>
            </div>
        </div>

        <!-- Performance Chart -->
        <section class="section">
            <div class="section-header">
                <h2>üìà Performance vs Benchmark</h2>
                <span class="badge">Indexed to 100</span>
            </div>
            <div class="chart-container" id="performanceChart"></div>
        </section>

        <!-- Two Column Layout: Weight Comparisons -->
        <div class="two-columns">
            <!-- Top Holdings vs S&P Weight -->
            <section class="section">
                <div class="section-header">
                    <h2>üèÜ Top 10 Holdings vs S&P 500</h2>
                    <span class="badge">Weight Comparison</span>
                </div>
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Portfolio</th>
                            <th>S&P 500</th>
                            <th>Drift</th>
                        </tr>
                    </thead>
                    <tbody id="weightComparisonBody">
                        <tr>
                            <td colspan="4" class="loading">
                                <div class="spinner"></div>Loading...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Top Drift Positions -->
            <section class="section">
                <div class="section-header">
                    <h2>‚öñÔ∏è Top 10 Drift Positions</h2>
                    <span class="badge">Largest Deviations</span>
                </div>
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Portfolio</th>
                            <th>S&P 500</th>
                            <th>Drift</th>
                        </tr>
                    </thead>
                    <tbody id="driftTableBody">
                        <tr>
                            <td colspan="4" class="loading">
                                <div class="spinner"></div>Loading...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>

        <!-- Sector Weight Comparison -->
        <div class="two-columns">
            <!-- Sector vs S&P -->
            <section class="section">
                <div class="section-header">
                    <h2>üìä Sector Weights vs S&P 500</h2>
                    <span class="badge">GICS Sectors</span>
                </div>
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Sector</th>
                            <th>Portfolio</th>
                            <th>S&P 500</th>
                            <th>Drift</th>
                        </tr>
                    </thead>
                    <tbody id="sectorComparisonBody">
                        <tr>
                            <td colspan="4" class="loading">
                                <div class="spinner"></div>Loading...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Sector Chart -->
            <section class="section">
                <div class="section-header">
                    <h2>ü•ß Sector Allocation</h2>
                    <span class="badge">Portfolio vs Benchmark</span>
                </div>
                <div class="chart-container" id="sectorBarChart" style="height: 300px;"></div>
            </section>
        </div>

        <!-- Another Two Column -->
        <div class="two-columns">
            <!-- Recent Activity -->
            <section class="section">
                <div class="section-header">
                    <h2>üìã Recent Activity</h2>
                    <span class="badge" id="tradeCount">0 trades</span>
                </div>
                <ul class="activity-feed" id="activityFeed">
                    <li class="activity-item">
                        <div class="activity-icon buy">üì•</div>
                        <div class="activity-content">
                            <div class="title">Portfolio Initialized</div>
                            <div class="details">$10,000,000 deployed across S&P 500</div>
                        </div>
                        <div class="activity-time" id="initDate">--</div>
                    </li>
                </ul>
            </section>

            <!-- Alerts & TLH Candidates -->
            <section class="section">
                <div class="section-header">
                    <h2>üîî Alerts & Opportunities</h2>
                </div>
                <div id="alertsContainer">
                    <div class="alert info">
                        <span class="alert-icon">‚ÑπÔ∏è</span>
                        <div class="alert-content">
                            <h4>Portfolio Active</h4>
                            <p>Forward test is running. Daily updates occur after market close.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>CFO Direct Index ‚Ä¢ Paper Trading Simulation ‚Ä¢ Data from EODHD</p>
            <p>This is a simulated portfolio for testing purposes only. Not financial advice.</p>
        </footer>
    </div>

    <!-- Dashboard JavaScript -->
    <script src="dashboard.js"></script>
</body>

</html>